# v2.6.8 更新日志

> **v2.6.1 以前的更新日志均在Git仓库提交统计中**

# 更新内容

## 功能更新

1. 重构首页热门分类、标签、推荐博客dao层代码，使用Mybatis实现
2. **使用Redis缓存热门分类、标签、推荐博客**
    1. 分类新增修改删除时清空分类缓存
    2. 标签新增修改删除时清空标签缓存
    3. 博客新增修改删除时清空全部缓存
    4. 全站博客修改删除时清空全部缓存
    
3. **使用Redis缓存所有分类、标签**
    1. 分类新增修改删除时清空分类缓存
    2. 标签新增修改删除时清空标签缓存
    3. 博客新增修改删除时清空分类、标签缓存
    4. 全站博客修改删除时清空分类、标签缓存

4. 完善后端代码注释
5. 修复Redis缓存中Types和Tags属性blogCount序列化后存在重复属性BUG
6. 删除RedisConfig中Spring Boot自带的缓存
7. 新增后台博客编辑页、用户信息修改页权限校验
8. 新增博客详情页草稿状态校验
9. 修复注册用户未发布博客查询不到该用户BUG
10. **使用Redis缓存博客归档页所有博客**
    1. 博客新增修改删除时清空归档页博客缓存
    2. 全站博客新增修改删除时清空归档页博客缓存
    
11. **使用Redis缓存留言页最近留言**
    1. 发布新留言时清空留言缓存
    2. 删除留言时清空留言缓存
    
12. 重构留言页dao层代码，用Mybatis实现
12. **新增统计页dao、service、entity代码**
13. 注册用户数量查询从用户信息mapper中迁移到博客网站统计页mapper
14. **新增数据库表t_about，新增定时任务持久化博客网站统计页redis数据到mysql**
15. 使用Redis缓存博客网站统计页信息 
16. **新增Redis缓存工具类**
17. 删除线程池工具类

## 页面优化

1. 修复留言页页脚位置显示错误
2. 引入jquery.scrollTo.min.js、jquery-3.6.1.min.js、semantic.min.js、css到项目
3. 移除前端页面cdn资源引入
4. 修改谷歌字体库为fonts.loli.net
5. 修改错误页页脚位置

# 项目架构

- Spring Boot
    - Spring
    - SpringMVC
    - Hibernate
        - JPA
    - Mybatis
        - alibaba druid
    - Thymeleaf
        - SemanticUI
    - Docker
        - Nginx
        - MySQL
        - Redis
    - HuaweiCloud-OBS
          
# 参与贡献

1.  Zm_Mmm

> [开源地址](https://gitee.com/zm_mmm/blog "开源地址")